<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏á‡∏≤‡∏ô‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap');
body { font-family: 'Sarabun', sans-serif; }
.fade-in { animation: fadeIn 0.3s ease-in; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.image-preview { transition: all 0.3s ease; cursor:pointer; }
.image-preview:hover { transform: scale(1.05); }
</style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">

<!-- Header -->
<div class="bg-white shadow-lg border-b-4 border-blue-500">
    <div class="container mx-auto px-4 py-6">
        <h1 class="text-3xl font-bold text-gray-800 text-center">üè† ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏á‡∏≤‡∏ô‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô</h1>
        <div class="flex justify-center mt-4 space-x-4">
            <button onclick="showTab('tasks')" id="tasksTab" class="px-6 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors">
                üìã ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            </button>
            <button onclick="showTab('summary')" id="summaryTab" class="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-colors">
                üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏á‡∏≤‡∏ô
            </button>
        </div>
    </div>
</div>

<!-- Progress -->
<div class="container mx-auto px-4 py-4">
    <div class="bg-white rounded-lg shadow-md p-4">
        <div class="flex justify-between items-center mb-2">
            <span class="text-sm font-medium text-gray-700">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</span>
            <span id="progressText" class="text-sm font-bold text-blue-600">0%</span>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-3">
            <div id="progressBar" class="bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
        </div>
    </div>
</div>

<!-- Tasks -->
<div id="tasksContent" class="container mx-auto px-4 pb-8">
    <div class="bg-white rounded-lg shadow-md p-4 mb-6">
        <h3 class="text-lg font-semibold mb-4 text-gray-800">üîç ‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á</h3>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
            <select id="floorFilter" class="border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                <option value="">‡∏ó‡∏∏‡∏Å‡∏ä‡∏±‡πâ‡∏ô</option>
                <option value="3">‡∏ä‡∏±‡πâ‡∏ô 3</option>
                <option value="4">‡∏ä‡∏±‡πâ‡∏ô 4</option>
                <option value="5">‡∏ä‡∏±‡πâ‡∏ô 5</option>
                <option value="6">‡∏ä‡∏±‡πâ‡∏ô 6</option>
            </select>
            <select id="roomFilter" class="border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                <option value="">‡∏ó‡∏∏‡∏Å‡∏´‡πâ‡∏≠‡∏á</option>
            </select>
            <select id="statusFilter" class="border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                <option value="">‡∏ó‡∏∏‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                <option value="completed">‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢</option>
                <option value="pending">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à</option>
            </select>
            <button onclick="resetAllTasks()" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors font-medium">
                üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏∏‡∏Å‡∏á‡∏≤‡∏ô
            </button>
        </div>
    </div>
    <div id="tasksGrid" class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6"></div>
</div>

<!-- Summary -->
<div id="summaryContent" class="container mx-auto px-4 pb-8 hidden">
    <div class="bg-white rounded-lg shadow-md p-6">
        <h3 class="text-2xl font-bold mb-6 text-gray-800">üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
        <div id="summaryStats" class="grid grid-cols-1 md:grid-cols-5 gap-4 mb-6"></div>
        <div id="summaryTable" class="overflow-x-auto"></div>
    </div>
</div>

<!-- Image Modal -->
<div id="imageModal" class="fixed inset-0 bg-black bg-opacity-75 hidden z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-lg max-w-full max-h-full overflow-auto">
        <div class="p-4 border-b flex justify-between items-center">
            <h3 class="text-lg font-semibold">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏á‡∏≤‡∏ô</h3>
            <button onclick="closeImageModal()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
        </div>
        <div id="imageModalContent" class="p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
    </div>
</div>

<!-- Firebase App -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
import { getDatabase, ref, set, update, get, onValue } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-database.js";
import { getStorage, ref as sRef, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-storage.js";

// Firebase config
const firebaseConfig = {
    apiKey: "AIzaSyDxHYua4i21OV_N5Me_5ORsQrQ1unXQuBA",
    authDomain: "report-jobhk.firebaseapp.com",
    databaseURL: "https://report-jobhk-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "report-jobhk",
    storageBucket: "report-jobhk.appspot.com",
    messagingSenderId: "429684380091",
    appId: "1:429684380091:web:eb390cf661ff974f25f49e",
    measurementId: "G-53EZWY79NL"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const database = getDatabase(app);
const storage = getStorage(app);
const tasksRef = ref(database, "housekeepingTasks");

const floors = {
    3: Array.from({length: 10}, (_, i) => 301 + i),
    4: Array.from({length: 10}, (_, i) => 401 + i),
    5: Array.from({length: 8}, (_, i) => 501 + i),
    6: Array.from({length: 8}, (_, i) => 601 + i)
};
const taskTypes = ['‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏á‡∏´‡πâ‡∏≠‡∏á','‡∏Å‡∏£‡∏∞‡∏à‡∏Å‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å','‡∏ã‡∏±‡∏Å‡∏û‡∏£‡∏°','‡∏Ç‡∏±‡∏î‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô','‡∏Ç‡∏±‡∏î‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥','‡πÉ‡∏™‡πà‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏°‡∏î','‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô corridor'];

let tasks = [];
let currentTab = 'tasks';

// Load tasks
async function initializeAndLoad() {
    onValue(tasksRef, (snapshot) => {
        const data = snapshot.val();
        tasks = data ? Object.values(data) : [];
        if (tasks.length === 0) createInitialTasks();
        else renderPage();
    });
}

// Create initial tasks
function createInitialTasks() {
    let initialTasks = [];
    Object.keys(floors).forEach(floor => {
        floors[floor].forEach(room => {
            taskTypes.forEach(taskType => {
                const taskId = `${floor}-${room}-${taskType}`;
                initialTasks.push({
                    id: taskId,
                    floor: floor,
                    room: room,
                    taskType: taskType,
                    status: 'pending',
                    reviewStatus: 'pending_review',
                    assignee: '',
                    reviewedBy: '',
                    images: [],
                    completedAt: null,
                    completedBy: '',
                    reviewedAt: null
                });
            });
        });
    });
    const tasksObject = initialTasks.reduce((obj, task) => { obj[task.id] = task; return obj; }, {});
    set(tasksRef, tasksObject);
}

// Render tasks
function renderTasks() {
    const grid = document.getElementById('tasksGrid');
    const floorFilter = document.getElementById('floorFilter').value;
    const roomFilter = document.getElementById('roomFilter').value;
    const statusFilter = document.getElementById('statusFilter').value;

    let filteredTasks = tasks;
    if (floorFilter) filteredTasks = filteredTasks.filter(t => t.floor == floorFilter);
    if (roomFilter) filteredTasks = filteredTasks.filter(t => t.room == roomFilter);
    if (statusFilter) filteredTasks = filteredTasks.filter(t => t.status === statusFilter);

    const groupedTasks = {};
    filteredTasks.forEach(task => {
        const key = `${task.floor}-${task.room}`;
        if (!groupedTasks[key]) groupedTasks[key] = [];
        groupedTasks[key].push(task);
    });

    grid.innerHTML = '';
    Object.keys(groupedTasks).forEach(roomKey => {
        const roomTasks = groupedTasks[roomKey];
        const roomCard = document.createElement('div');
        roomCard.className = 'bg-white rounded-lg shadow-md overflow-hidden fade-in';
        roomCard.innerHTML = `
            <div class="p-4">
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b">
                                <th>‡∏á‡∏≤‡∏ô</th><th>‡∏ú‡∏π‡πâ‡∏ó‡∏≥</th><th>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</th><th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏á‡∏≤‡∏ô</th><th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</th><th>‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody>
                        ${roomTasks.map(task => `
                            <tr class="border-b hover:bg-gray-50 ${task.status==='completed'?'bg-green-100':''}">
                                <td>${task.taskType}</td>
                                <td><input type="text" value="${task.assignee}" onchange="updateAssignee('${task.id}',this.value)" ${task.status==='completed'?'disabled':''} class="w-full px-2 py-1 border rounded text-xs"></td>
                                <td>
                                    <label class="bg-blue-500 text-white px-2 py-1 rounded text-xs hover:bg-blue-600 cursor-pointer">
                                        üì∑ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ
                                        <input type="file" id="images-${task.id}" multiple accept="image/*" onchange="Array.from(this.files).forEach(f=>uploadFile(f,'${task.id}'))" class="sr-only">
                                    </label>
                                    ${task.images.length>0?`<button onclick="viewImages('${task.id}')" class="bg-green-500 text-white px-2 py-1 rounded text-xs hover:bg-green-600">üëÅÔ∏è ‡∏î‡∏π‡∏£‡∏π‡∏õ (${task.images.length})</button>`:''}
                                </td>
                                <td>${task.status==='completed'?'‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢':'‚è≥ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à'}</td>
                                <td>${task.reviewStatus==='reviewed'?'‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß':'‚ö†Ô∏è ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö'}</td>
                                <td>
                                    <button onclick="toggleTaskStatus('${task.id}')">${task.status==='completed'?'‚Ü©Ô∏è ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏á‡∏≤‡∏ô':'‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏á‡∏≤‡∏ô'}</button>
                                    <button onclick="toggleReviewStatus('${task.id}')">${task.reviewStatus==='reviewed'?'‚Ü©Ô∏è ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö':'‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß'}</button>
                                </td>
                            </tr>`).join('')}
                        </tbody>
                    </table>
                </div>
            </div>`;
        grid.appendChild(roomCard);
    });
    updateProgress();
}

// Upload to Firebase Storage
function uploadFile(file, taskId) {
    const task = tasks.find(t => t.id===taskId);
    const storageRef = sRef(storage, `housekeepingImages/${taskId}/${file.name}`);
    uploadBytes(storageRef, file).then(snapshot=>{
        getDownloadURL(snapshot.ref).then(url=>{
            const updatedImages = task.images ? [...task.images, url] : [url];
            update(ref(database, `housekeepingTasks/${taskId}`), { images: updatedImages });
        });
    });
}

// View images modal
function viewImages(id){
    const task = tasks.find(t => t.id===id);
    if(!task || !task.images) return;
    const container = document.getElementById('imageModalContent');
    container.innerHTML = task.images.map(img=>`<img src="${img}" class="w-full mb-2 image-preview">`).join('');
    document.getElementById('imageModal').classList.remove('hidden');
}
function closeImageModal(){ document.getElementById('imageModal').classList.add('hidden'); }

// Update assignee
function updateAssignee(id,value){ update(ref(database, `housekeepingTasks/${id}`), { assignee: value }); }
// Toggle task status
function toggleTaskStatus(id){
    const task = tasks.find(t=>t.id===id);
    if(!task) return;
    if(!task.assignee){ alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô'); return; }
    const newStatus = task.status==='pending'?'completed':'pending';
    const updates={status:newStatus,completedAt:newStatus==='completed'?new Date().toISOString():null,completedBy:newStatus==='completed'?task.assignee:'',reviewStatus:newStatus==='pending'?'pending_review':task.reviewStatus};
    update(ref(database, `housekeepingTasks/${id}`), updates);
}
// Toggle review status
function toggleReviewStatus(id){
    const task = tasks.find(t=>t.id===id);
    if(!task) return;
    if(task.status!=='completed'){ alert('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡πÑ‡∏î‡πâ'); return; }
    const newReview = task.reviewStatus==='pending_review'?'reviewed':'pending_review';
    const updates={reviewStatus:newReview,reviewedAt:newReview==='reviewed'?new Date().toISOString():null};
    update(ref(database, `housekeepingTasks/${id}`), updates);
}

// Reset all tasks
function resetAllTasks(){
    if(!confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) return;
    const tasksObject = {};
    Object.keys(floors).forEach(floor=>{
        floors[floor].forEach(room=>{
            taskTypes.forEach(taskType=>{
                const taskId = `${floor}-${room}-${taskType}`;
                tasksObject[taskId]={id:taskId,floor:floor,room:room,taskType:taskType,status:'pending',reviewStatus:'pending_review',assignee:'',reviewedBy:'',images:[],completedAt:null,completedBy:'',reviewedAt:null};
            });
        });
    });
    set(tasksRef,tasksObject);
}

// Progress bar
function updateProgress(){
    const completed = tasks.filter(t=>t.status==='completed').length;
    const total = tasks.length;
    const percent = total?Math.round(completed/total*100):0;
    document.getElementById('progressBar').style.width = percent+'%';
    document.getElementById('progressText').textContent = percent+'%';
}

// Summary
function renderSummary(){
    const stats = document.getElementById('summaryStats');
    const table = document.getElementById('summaryTable');
    const total = tasks.length;
    const completed = tasks.filter(t=>t.status==='completed').length;
    const pending = total-completed;
    const reviewed = tasks.filter(t=>t.reviewStatus==='reviewed').length;
    const pendingReview = completed-reviewed;

    stats.innerHTML=`<div class="bg-blue-500 text-white p-4 rounded-lg">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ${total}</div>
    <div class="bg-green-500 text-white p-4 rounded-lg">‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ${completed}</div>
    <div class="bg-yellow-500 text-white p-4 rounded-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à ${pending}</div>
    <div class="bg-purple-500 text-white p-4 rounded-lg">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß ${reviewed}</div>
    <div class="bg-pink-500 text-white p-4 rounded-lg">‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ${pendingReview}</div>`;

    const grouped = {};
    tasks.forEach(t=>{
        const key=`${t.floor}-${t.room}`;
        if(!grouped[key]) grouped[key]=[];
        grouped[key].push(t);
    });

    table.innerHTML=`<table class="w-full text-sm"><thead><tr><th>‡∏´‡πâ‡∏≠‡∏á</th><th>‡∏ä‡∏±‡πâ‡∏ô</th><th>‡πÄ‡∏™‡∏£‡πá‡∏à/‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</th><th>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤</th><th>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß</th><th>‡∏á‡∏≤‡∏ô‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th></tr></thead><tbody>${
        Object.keys(grouped).map(k=>{
            const [floor,room]=k.split('-');
            const tasksR = grouped[k];
            const done = tasksR.filter(t=>t.status==='completed').length;
            const review = tasksR.filter(t=>t.reviewStatus==='reviewed').length;
            const percent = (done/tasksR.length)*100;
            const pendingTasks = tasksR.filter(t=>t.status==='pending');
            return `<tr class="border-b hover:bg-gray-50"><td>${room}</td><td>${floor}</td><td>${done}/${tasksR.length}</td><td><div class="flex items-center"><div class="bg-gray-200 rounded-full h-2 flex-1"><div class="bg-blue-500 h-2 rounded-full" style="width:${percent}%"></div></div><span class="text-xs ml-2">${Math.round(percent)}%</span></div></td><td>${review}/${done}</td><td>${pendingTasks.map(t=>t.taskType).join(', ')}</td></tr>`;
        }).join('')
    }</tbody></table>`;
}

// Tab switch
function showTab(tab){
    currentTab=tab;
    document.getElementById('tasksContent').classList.toggle('hidden',tab!=='tasks');
    document.getElementById('summaryContent').classList.toggle('hidden',tab!=='summary');
    renderPage();
}

// Render page
function renderPage(){
    if(currentTab==='tasks') renderTasks();
    else renderSummary();
    updateProgress();
}

// Filters
document.getElementById('floorFilter').addEventListener('change',()=>{
    const floor = document.getElementById('floorFilter').value;
    const roomSelect = document.getElementById('roomFilter');
    roomSelect.innerHTML=`<option value="">‡∏ó‡∏∏‡∏Å‡∏´‡πâ‡∏≠‡∏á</option>`;
    if(floor && floors[floor]) floors[floor].forEach(r=>roomSelect.innerHTML+=`<option value="${r}">${r}</option>`);
    renderTasks();
});
document.getElementById('roomFilter').addEventListener('change',renderTasks);
document.getElementById('statusFilter').addEventListener('change',renderTasks);

// Expose functions to HTML
window.showTab=showTab;
window.updateAssignee=updateAssignee;
window.toggleTaskStatus=toggleTaskStatus;
window.toggleReviewStatus=toggleReviewStatus;
window.uploadFile=uploadFile;
window.viewImages=viewImages;
window.closeImageModal=closeImageModal;
window.resetAllTasks=resetAllTasks;

// Initialize
initializeAndLoad();
</script>


</body>
</html>
